Version 4
SHEET 1 2336 1960
WIRE 944 -128 560 -128
WIRE 1040 -128 944 -128
WIRE 1360 -128 1040 -128
WIRE 1776 -128 1360 -128
WIRE 1952 -128 1776 -128
WIRE 2144 -128 1952 -128
WIRE 560 -32 560 -128
WIRE 944 -32 944 -128
WIRE 1360 -32 1360 -128
WIRE 1776 -32 1776 -128
WIRE 1952 -32 1952 -128
WIRE 2144 -32 2144 -128
WIRE -384 -16 -416 -16
WIRE -224 -16 -304 -16
WIRE 688 -16 608 -16
WIRE 1152 -16 992 -16
WIRE 1312 -16 1152 -16
WIRE 1856 -16 1824 -16
WIRE 2048 -16 2000 -16
WIRE 2096 -16 2048 -16
WIRE -416 112 -416 -16
WIRE 688 112 688 -16
WIRE 1152 112 1152 -16
WIRE 1152 112 688 112
WIRE 1680 112 1152 112
WIRE 1856 112 1856 -16
WIRE 1856 112 1680 112
WIRE 1952 112 1952 64
WIRE 1952 112 1856 112
WIRE 2048 112 2048 -16
WIRE 2144 112 2144 64
WIRE 2144 112 2048 112
WIRE 560 192 560 64
WIRE 944 192 944 64
WIRE 2240 192 944 192
WIRE -416 208 -416 192
WIRE 1680 224 1680 112
WIRE 1952 256 1952 112
WIRE 2144 256 2144 112
WIRE 560 272 560 192
WIRE 944 272 944 192
WIRE 1360 304 1360 64
WIRE 1488 304 1360 304
WIRE 1584 304 1488 304
WIRE 1632 304 1584 304
WIRE 1776 304 1776 64
WIRE 1776 304 1728 304
WIRE 1632 336 1632 304
WIRE 1680 336 1680 320
WIRE 1680 336 1632 336
WIRE 1904 336 1680 336
WIRE 2240 336 2240 192
WIRE 2240 336 2192 336
WIRE 1488 384 1488 304
WIRE 1952 384 1952 352
WIRE 2048 384 1952 384
WIRE 2144 384 2144 352
WIRE 2144 384 2048 384
WIRE 944 416 944 352
WIRE 1040 416 944 416
WIRE 1360 416 1360 304
WIRE 1360 416 1248 416
WIRE 1776 416 1776 304
WIRE 1856 416 1776 416
WIRE 944 432 944 416
WIRE 1360 432 1360 416
WIRE 1776 448 1776 416
WIRE 2048 448 2048 384
WIRE 1040 512 1040 416
WIRE 1040 512 992 512
WIRE 1248 512 1248 416
WIRE 1312 512 1248 512
WIRE 1856 528 1856 416
WIRE 1856 528 1824 528
WIRE 2000 528 1856 528
WIRE 560 592 560 352
WIRE 944 592 944 528
WIRE 944 592 560 592
WIRE 1152 592 944 592
WIRE 1360 592 1360 528
WIRE 1360 592 1152 592
WIRE 1488 592 1488 448
WIRE 1488 592 1360 592
WIRE 1776 592 1776 544
WIRE 1776 592 1488 592
WIRE 2048 592 2048 544
WIRE 2048 592 1776 592
WIRE 1152 672 1152 592
WIRE 816 1024 432 1024
WIRE 912 1024 816 1024
WIRE 1232 1024 912 1024
WIRE 1776 1024 1232 1024
WIRE 1728 1088 1040 1088
WIRE 432 1120 432 1024
WIRE 816 1120 816 1024
WIRE 1232 1120 1232 1024
WIRE 1776 1120 1776 1024
WIRE 560 1136 480 1136
WIRE 912 1136 864 1136
WIRE 1040 1136 1040 1088
WIRE 1040 1136 912 1136
WIRE 1184 1136 1040 1136
WIRE 1728 1136 1728 1088
WIRE 560 1248 560 1136
WIRE 816 1248 816 1216
WIRE 816 1248 560 1248
WIRE 912 1248 912 1136
WIRE 912 1248 816 1248
WIRE 1232 1248 1232 1216
WIRE 1232 1248 1152 1248
WIRE 816 1296 816 1248
WIRE 1232 1296 1232 1248
WIRE 432 1328 432 1216
WIRE 1776 1328 1776 1216
WIRE 1152 1376 1152 1248
WIRE 1152 1376 864 1376
WIRE 1184 1376 1152 1376
WIRE 432 1424 432 1328
WIRE 816 1424 816 1392
WIRE 1776 1424 1776 1328
WIRE 1232 1456 1232 1392
WIRE 1360 1456 1232 1456
WIRE 1456 1456 1360 1456
WIRE 1360 1536 1360 1456
WIRE 432 1584 432 1504
WIRE 816 1584 816 1504
WIRE 1232 1584 1232 1456
WIRE 544 1632 496 1632
WIRE 928 1632 880 1632
WIRE 1168 1632 928 1632
WIRE 432 1744 432 1680
WIRE 544 1744 544 1632
WIRE 544 1744 432 1744
WIRE 816 1744 816 1680
WIRE 816 1744 544 1744
WIRE 928 1744 928 1632
WIRE 928 1744 816 1744
WIRE 1024 1744 928 1744
WIRE 1232 1744 1232 1680
WIRE 1232 1744 1024 1744
WIRE 1360 1744 1360 1600
WIRE 1360 1744 1232 1744
WIRE 1776 1744 1776 1504
WIRE 1776 1744 1360 1744
WIRE 1024 1824 1024 1744
FLAG -416 208 0
FLAG -224 -16 VDD
FLAG 1040 -128 VDD
FLAG 1152 672 0
FLAG 1584 304 out
FLAG 912 1024 VDD
FLAG 1024 1824 0
FLAG 1456 1456 out2
FLAG 560 192 ref1
FLAG 432 1328 ref2
FLAG 1776 1328 ref3
SYMBOL voltage -416 96 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value {vdd}
SYMBOL pmos 992 64 R180
SYMATTR InstName M1
SYMATTR Value EX_PMOS W=10u L=1u
SYMBOL pmos 1312 64 M180
SYMATTR InstName M2
SYMATTR Value EX_PMOS W=10u L=1u
SYMBOL res 928 256 R0
SYMATTR InstName R1
SYMATTR Value {RES}
SYMBOL cap 1472 384 R0
SYMATTR InstName C1
SYMATTR Value 100p
SYMBOL res -288 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1m
SYMBOL nmos 1312 432 R0
SYMATTR InstName M9
SYMATTR Value EX_NMOS W=100u L=1u
SYMBOL nmos 992 432 M0
SYMATTR InstName M10
SYMATTR Value EX_NMOS W=100u L=1u M={MULT}
SYMBOL nmos 2000 448 R0
SYMATTR InstName M4
SYMATTR Value EX_NMOS W=10u L=1u
SYMBOL nmos 1904 256 R0
WINDOW 3 56 72 Invisible 2
SYMATTR Value EX_NMOS W=100u L=1u
SYMATTR InstName M5
SYMBOL nmos 2192 256 M0
WINDOW 3 56 72 Invisible 2
SYMATTR Value EX_NMOS W=100u L=1u
SYMATTR InstName M6
SYMBOL pmos 2000 64 R180
WINDOW 3 56 72 Invisible 2
SYMATTR Value EX_PMOS W=10u L=1u
SYMATTR InstName M7
SYMBOL pmos 2096 64 M180
WINDOW 3 56 72 Invisible 2
SYMATTR Value EX_PMOS W=10u L=1u
SYMATTR InstName M8
SYMBOL nmos 1824 448 M0
WINDOW 3 56 72 Invisible 2
SYMATTR Value EX_NMOS W=10u L=1u
SYMATTR InstName M11
SYMBOL pmos 1824 64 R180
WINDOW 3 56 72 Invisible 2
SYMATTR Value EX_PMOS W=10u L=1u
SYMATTR InstName M12
SYMBOL nmos 1728 224 M0
WINDOW 3 56 72 Invisible 2
SYMATTR Value EX_NMOS W=10u L=1u
SYMATTR InstName M3
SYMBOL pmos 608 64 R180
SYMATTR InstName M13
SYMATTR Value EX_PMOS W=10u L=1u
SYMBOL res 544 256 R0
SYMATTR InstName R2
SYMATTR Value 300k
SYMBOL pmos 864 1216 R180
SYMATTR InstName M14
SYMATTR Value EX_PMOS W=10u L=1u
SYMBOL pmos 1184 1216 M180
SYMATTR InstName M15
SYMATTR Value EX_PMOS W=10u L=1u
SYMBOL res 800 1408 R0
SYMATTR InstName R3
SYMATTR Value { RES * (1+tc*(temp-25)) }
SYMBOL cap 1344 1536 R0
SYMATTR InstName C2
SYMATTR Value 10p
SYMBOL pmos 480 1216 R180
SYMATTR InstName M26
SYMATTR Value EX_PMOS W=10u L=1u
SYMBOL res 416 1408 R0
SYMATTR InstName R5
SYMATTR Value { RES * (1+tc*(temp-25)) * X}
SYMBOL nmos 864 1296 M0
SYMATTR InstName M27
SYMATTR Value EX_NMOS W=10u L=1u
SYMBOL nmos 1184 1296 R0
SYMATTR InstName M28
SYMATTR Value EX_NMOS W=10u L=1u
SYMBOL pnp 1168 1584 R0
SYMATTR InstName Q1
SYMBOL pnp 880 1584 M0
SYMATTR InstName Q2
SYMATTR Value PNP M={MULT}
SYMBOL pnp 496 1584 M0
SYMATTR InstName Q3
SYMATTR Value PNP M={MULT}
SYMBOL pmos 1728 1216 M180
SYMATTR InstName M16
SYMATTR Value EX_PMOS W=10u L=1u
SYMBOL res 1792 1408 M0
SYMATTR InstName R6
SYMATTR Value { RES * (1+tc*(temp-25)) * X}
TEXT -384 384 Left 2 !.lib 130nm_bulk.txt
TEXT -384 352 Left 2 !.param VDD=1.8 MULT=24 RES=10k GAIN=10k TC=0.001 X=10
TEXT -512 744 Left 2 !.tran 1000u
TEXT -512 768 Left 2 ;.ac dec 10 1 10G
TEXT 1608 696 Left 2 ;.ic V(out)=450m
TEXT 1608 656 Left 2 !.ic V(VDD)=0
TEXT -272 480 Left 2 !.temp -40 0 27 40 85
TEXT 176 824 Left 2 !.param RBW=1k CBW=10p
TEXT -8 904 Left 2 ;.step param RES list 1k 3k 10k 30k 100k
TEXT 1480 1848 Left 2 ;.ic V(out)=450m
TEXT 1480 1808 Left 2 !.ic V(VDD)=0
TEXT -240 256 Left 2 ;.step param vdd list 1.6 1.8 2
